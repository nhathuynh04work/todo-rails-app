<div id="<%= dom_id(task) %>" class="group flex items-center justify-between py-3 px-3 border-b border-gray-800 hover:bg-gray-900/50 transition-colors -mx-3 rounded-md">
  <div class="flex items-center gap-3 flex-1 min-w-0">
    <%= form_with url: toggle_task_path(task), method: :post, class: "relative flex items-center" do |f| %>
      <%= f.check_box :status, 
          checked: task.complete?, 
          onchange: "this.form.requestSubmit()",
          class: "peer h-5 w-5 cursor-pointer appearance-none rounded border border-gray-600 bg-transparent checked:border-indigo-500 checked:bg-indigo-500 focus:ring-0 focus:ring-offset-0 transition-all" 
      %>
      <svg class="pointer-events-none absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 h-3.5 w-3.5 text-white opacity-0 peer-checked:opacity-100 transition-opacity" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="3">
        <path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5" />
      </svg>
    <% end %>
    <span class="text-sm font-medium truncate group-hover:text-white transition-colors <%= task.complete? ? 'line-through text-gray-500' : 'text-gray-300' %>">
      <%= task.title %>
    </span>
  </div>
  <div class="flex items-center opacity-0 group-hover:opacity-100 transition-opacity">
    <button class="text-gray-500 hover:text-red-400 p-1">
      <svg class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
      </svg>
    </button>
  </div>
</div>